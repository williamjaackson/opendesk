<%# locals: (pagy:, frame_id: "table_frame", page_param: :page) %>
<nav class="flex items-center justify-between px-6 py-3" aria-label="Pagination">
  <p class="text-sm text-gray-500">
    Showing <span class="font-medium text-gray-900"><%= pagy.from %></span> to <span class="font-medium text-gray-900"><%= pagy.to %></span> of <span class="font-medium text-gray-900"><%= pagy.count %></span>
  </p>
  <% if pagy.pages > 1 %>
    <div class="flex items-center gap-1">
      <% if pagy.previous %>
        <%= link_to url_for(request.query_parameters.merge(page_param => pagy.previous)),
            class: "inline-flex items-center justify-center w-8 h-8 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-colors select-none",
            data: { turbo_frame: frame_id, turbo_action: "advance" },
            aria: { label: "Previous page" } do %>
          <%= lucide_icon("chevron-left", class: "w-4 h-4") %>
        <% end %>
      <% else %>
        <span class="inline-flex items-center justify-center w-8 h-8 rounded-md text-gray-300 cursor-not-allowed" aria-disabled="true">
          <%= lucide_icon("chevron-left", class: "w-4 h-4") %>
        </span>
      <% end %>

      <% pagy.send(:series).each do |item| %>
        <% if item.is_a?(Integer) %>
          <%= link_to item, url_for(request.query_parameters.merge(page_param => item)),
            class: "inline-flex items-center justify-center w-8 h-8 rounded-md text-sm text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-colors select-none",
            data: { turbo_frame: frame_id, turbo_action: "advance" } %>
        <% elsif item.is_a?(String) %>
          <span class="inline-flex items-center justify-center w-8 h-8 rounded-md text-sm font-medium text-gray-900 bg-gray-100"><%= item %></span>
        <% elsif item == :gap %>
          <span class="inline-flex items-center justify-center w-8 h-8 text-sm text-gray-400">&hellip;</span>
        <% end %>
      <% end %>

      <% if pagy.next %>
        <%= link_to url_for(request.query_parameters.merge(page_param => pagy.next)),
            class: "inline-flex items-center justify-center w-8 h-8 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100 transition-colors select-none",
            data: { turbo_frame: frame_id, turbo_action: "advance" },
            aria: { label: "Next page" } do %>
          <%= lucide_icon("chevron-right", class: "w-4 h-4") %>
        <% end %>
      <% else %>
        <span class="inline-flex items-center justify-center w-8 h-8 rounded-md text-gray-300 cursor-not-allowed" aria-disabled="true">
          <%= lucide_icon("chevron-right", class: "w-4 h-4") %>
        </span>
      <% end %>
    </div>
  <% end %>
</nav>
