<div class="max-w-4xl mx-auto py-8 px-4">
  <%= render "shared/breadcrumbs", crumbs: [["Organisations", organisations_path]] %>
  <div class="flex items-center justify-between mb-4">
    <h1 class="text-2xl font-bold text-gray-900"><%= @organisation.name %></h1>
    <%= link_to edit_organisation_path(@organisation), class: "p-1.5 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors select-none" do %>
      <%= lucide_icon("pencil", class: "h-4 w-4") %>
    <% end %>
  </div>

  <div class="flex items-center gap-4 mb-6">
    <div class="flex items-center gap-2">
      <span class="inline-block h-4 w-4 rounded border border-gray-300" style="background-color: <%= @organisation.theme_colour || '#111827' %>"></span>
      <span class="text-sm text-gray-500"><%= @organisation.theme_colour || "#111827" %></span>
    </div>
    <span class="text-gray-300">â€¢</span>
    <span class="inline-flex items-center gap-1.5 text-sm text-gray-500">
      <%= lucide_icon("users", class: "h-4 w-4") %>
      <%= pluralize(@organisation.users.count, "member") %>
    </span>
  </div>

  <div class="flex items-center gap-3">
    <%= button_to organisation_session_path(organisation_id: @organisation.id), method: :post, class: "inline-flex items-center gap-1.5 px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors cursor-pointer select-none" do %>
      <%= lucide_icon("log-in", class: "h-4 w-4") %>
      Start Managing
    <% end %>
    <%= link_to members_organisation_path(@organisation), class: "inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors select-none" do %>
      <%= lucide_icon("users", class: "h-4 w-4") %>
      Manage members
    <% end %>
    <span data-controller="confirm" data-confirm-message-value="Leave <%= @organisation.name %>? You'll need to be re-invited to rejoin." data-confirm-button-text-value="Leave">
      <%= form_with url: leave_organisation_path(@organisation), method: :delete, class: "inline" do %>
        <button type="button" data-action="confirm#show" class="inline-flex items-center gap-1.5 px-4 py-2 text-sm font-medium text-red-600 bg-white border border-gray-300 rounded-md hover:bg-red-50 hover:border-red-300 transition-colors cursor-pointer select-none">
          <%= lucide_icon("log-out", class: "h-4 w-4") %>
          Leave
        </button>
      <% end %>
    </span>
  </div>
</div>
